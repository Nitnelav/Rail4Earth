[tox]
requires =
    tox>=4
env_list = py{37,38,39,310}
skip_missing_interpreters = True

[gh-actions]
# See https://pypi.org/project/tox-gh-actions/
python =
    3.7: py37
    3.8: py38
    3.9: py39
    3.10: py310

[testenv]
skip_install = true
deps =
    check-manifest >= 0.42
    scipy
    acoustics
    pytest
    build
    twine
commands =
    check-manifest --ignore 'tox.ini,tests/**,examples/**,services/**,third_parties/**'
    python -m build
    python -m twine check dist/*
    pytest {posargs:tests}
